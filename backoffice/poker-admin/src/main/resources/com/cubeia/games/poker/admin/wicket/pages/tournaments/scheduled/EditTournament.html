<html xmlns:wicket="http://wicket.apache.org/">
<head>
</head>
<body>
<wicket:extend>

    <span wicket:id="feedback">feedback messages will be put here</span>
    <div class="row-fluid">
        <div class="span12">
            <div class="widget-box">
                <div class="widget-title">
                    <h5>Tournament</h5>
                </div>
                <div class="widget-content nopadding">

                    <form wicket:id="tournamentForm" class="form-horizontal">

                        <div wicket:id="configuration"></div>

<!--                         <div class="widget-box">
 -->
                             <div class="widget-title" disabled>
                                <h5>Schedule</h5>
                            </div>

	                        <div class="control-group">
	                            <label class="control-label" for="startDate">Start date</label>
	                            <div class="controls">
	                                <span type="text" class="input-xlarge" id="startDate" wicket:id="startDate"></span>
	                            </div>
	                        </div>
	
	                        <div class="control-group">
	                            <label class="control-label" for="endDate">End date</label>
	                            <div class="controls">
	                                <span type="text" class="input-xlarge" id="endDate" wicket:id="endDate"></span>
	                            </div>
	                        </div>
	
	                        <div class="control-group">
	                            <label class="control-label" for="schedule">
	                                Schedule (cron format)
	                            </label>
	                            <div class="controls">
	                                <input wicket:id="schedule" id="schedule" type="text" size="20"/>
	                                <span class="help-block">Example: 0 */10 * * * ? = every ten minutes, 0 30 14 * * ? = every day at 14.30</span>
	                            </div>
	                        </div>
	
	                        <div class="control-group">
	                            <label class="control-label" for="minutesInAnnounced">Minutes in announced</label>
	                            <div class="controls">
	                                <input wicket:id="minutesInAnnounced" id="minutesInAnnounced" type="text" size="20"/>
	                                <span class="help-block">How many minutes before the starting time it should be announced</span>
	                            </div>
	                        </div>
	
	                        <div class="control-group">
	                            <label class="control-label" for="minutesInRegistering">Minutes in registering</label>
	                            <div class="controls">
	                                <input wicket:id="minutesInRegistering" id="minutesInRegistering" type="text" size="20"/>
	                                <span class="help-block">How many minutes before the starting time you should be able to register</span>
	                            </div>
	                        </div>
	
	                        <div class="control-group">
	                            <label class="control-label" for="minutesVisibleAfterFinished">Minutes visible after finished</label>
	                            <div class="controls">
	                                <input wicket:id="minutesVisibleAfterFinished" id="minutesVisibleAfterFinished" type="text" size="20"/>
	                            </div>
	                        </div>
	                        
	                        
	                        <div class="control-group">
	                            <div class="controls">
	                            <!--  
		                            <a href="#previewScheduleModal" data-toggle="modal" class="btn">Preview Schedule</a>
	                            -->
	                            
		                            <a class="btn" onclick="$('#previewContainerWrapper').toggle();">Preview Schedule</a>
	                            </div>
	                            
	                            <div class="controls" style="display: hidden;">
	                              <div id="previewContainerWrapper" style="display: none;">
	                            
			                        <div wicket:id="previewContainer"><span wicket:id="previewContent"></span></div>
		                            
		                            <script>
		                            	function doPreviewSchedule() {
		                            		console.log("preview");
											var start = $("#startDate input").val();	                            		
											var end = $("#endDate input").val();	                            		
											var cron = $("#schedule").val();	
											
											var minAnnounced = $("#minutesInAnnounced").val();	
											var minRegistering = $("#minutesInRegistering").val();	
											var minVisible = $("#minutesVisibleAfterFinished").val();	
											
											console.log("start: %s, end: %s, cron: %s, ann: %s, reg: %s, after: %s", start, end, cron, 
													minAnnounced, minRegistering, minVisible);
											
											previewTournamentSchedule(start, end, cron, minAnnounced, minRegistering, minVisible);
		                            	};
		                            
		                            </script>
		                            
		                            <a class="btn" onclick="doPreviewSchedule();">Refresh</a>
		                            
	                              </div>
	                            </div>
	                            
	                        </div>

                             <div class="widget-title" disabled>
                                <h5>Rebuy Configuration</h5>
                            </div>

                            <div class="control-group">
                                <label class="control-label" for="rebuysEnabled">Enable Rebuys</label>
                                <div class="controls">
                                    <input type="checkbox" wicket:id="rebuysEnabled" id="rebuysEnabled"/>
                                </div>
                            </div>

                            <div wicket:id="rebuyConfiguration"></div>
 
                        <div class="form-actions">
                            <input type="submit" class="btn btn-primary" value="Save"/>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>



	<div id="previewScheduleModal" class="modal hide" aria-hidden="true" style="display: none;">
		<div class="modal-header">
			<button data-dismiss="modal" class="close" type="button">Ã—</button>
			<h3>Preview Tournament Schedule</h3>
		</div>
		<div class="modal-body">
		
			<p>
			Showing 1 - 2 (100+) 
			<span class="btn-group">
				<a class="btn btn-small">&lt;</a><a class="btn btn-small">&gt;</a>
			</span>
			</p>
		
			<h5>Instance 1</h5>
		
			<dl class="dl-horizontal">
			  <dt>Announce</dt>
			  <dd>2014-01-03 23:55</dd>
			  
			  <dt>Registering</dt>
			  <dd>2014-01-04 23:55</dd>
			  
			  <dt>Start</dt>
			  <dd>2014-01-05 23:55</dd>
			  
			  <dt>...</dt>
			  <dd>2014-01-03 23:55</dd>
			</dl>
			
			<h5>Instance 2</h5>
			
			<dl class="dl-horizontal">
			  <dt>Announce</dt>
			  <dd>2014-01-03 23:55</dd>
			  
			  <dt>Registering</dt>
			  <dd>2014-01-04 23:55</dd>
			  
			  <dt>Start</dt>
			  <dd>2014-01-05 23:55</dd>
			  
			  <dt>...</dt>
			  <dd>2014-01-03 23:55</dd>
			</dl>
			
		</div>
	</div>
	

	

</wicket:extend>
</body>
</html>

